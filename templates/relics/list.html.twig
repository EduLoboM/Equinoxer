{% extends 'base.html.twig' %}

{% block title %}Equinoxer - Relics List{% endblock %}

{% block body %}
    <h1>EQUINOXER - Relics List</h1>

    <section>
        <div style="text-align: center; margin-bottom: 2rem;">
            <input type="text" id="relicSearch" placeholder="Search relics..." 
                   style="padding: 10px; width: 300px; border-radius: 5px; border: 1px solid #ccc; background: #333; color: #fff;">
            <br>
            <a href="{{ path('home') }}" style="color: #fffdd0; text-decoration: none; margin-top: 10px; display: inline-block;">Back to Home</a>
        </div>

        <ul class="relics-list" id="relicsList">
            {% for relic in relics %}
                <li class="relic-item" data-name="{{ relic.name|lower }}">
                    <a href="{{ path('relic_show', { slug: relic.slug }) }}">
                        {{ relic.name }}
                    </a>
                </li>
            {% else %}
                <li>No relics found.</li>
            {% endfor %}
        </ul>
    </section>

    <script>
        document.getElementById('relicSearch').addEventListener('input', function(e) {
            const term = e.target.value.toLowerCase();
            const items = document.querySelectorAll('.relic-item');
            
            items.forEach(item => {
                const name = item.getAttribute('data-name');
                if (name.includes(term)) {
                    item.style.display = '';
                } else {
                    item.style.display = 'none';
                }
            });
        });
    </script>
{% endblock %}
